<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="all" name="Simkit">


    <property description="Directory containing Simkit source files" name="src.dir" value="."/>
    <property description="Base directory for Simkit build" name="build.dir" value="build"/>
    <property description="Directory for compiled classes" name="build.classes" value="${build.dir}/classes/"/>
    <property description="Directory for Simkit javadoc files" name="build.doc" value="${build.dir}/doc/"/>
    <property description="Directory for Simkit jar files" name="build.jar" value="${build.dir}/lib/"/>
    <target depends="clean,compile" name="all">
        <!-- WRITEME -->
    </target>
    <target description="Deletes build directory" name="clean">
        <delete dir="${build.dir}"/>
    </target>
    <target depends="prepare" name="compile">
        <mkdir dir="${build.classes}"/>
        <javac destdir="${build.classes}" srcdir="${src.dir}"/>
        
        <copy todir="${build.classes}\simkit">
            <fileset dir="${src.dir}\simkit" includes="**/*.txt,**/*.png"/>
            <fileset dir="${src.dir}" includes="*.txt"/>
        </copy>
        
    </target>
    <target name="prepare">
        <mkdir dir="${build.dir}"/>
    </target>
    <target name="javadoc">
        
        <mkdir dir="${build.doc}"/>
        <javadoc access="private" author="true" destdir="${build.doc}" excludepackagenames="*.test.*" sourcepath="${src.dir}" version="true">
            
            <package name="simkit"/>
            <package name="simkit.data"/>
            <package name="simkit.random"/>
            <package name="simkit.stat"/>
            <package name="simkit.util"/>
            <package name="simkit.smd"/>
            <package name="simkit.smdx"/>
        </javadoc>
    </target>
    <target depends="compile" name="jar">
        <mkdir dir="${build.jar}"/>
        <jar basedir="${build.classes}" compress="true" excludes="*/test/*" jarfile="${build.jar}\simkit.jar"/>
    </target>
</project>
